import{T as l,I as A,J as y,g as u,m as c,v as x,K as r,y as E,L as b,u as k}from"./VSpacer.9a4de9e3.js";import{V as a}from"./index.3d4a30fb.js";function v(t){if(typeof t.getRootNode!="function"){for(;t.parentNode;)t=t.parentNode;return t!==document?null:document}const e=t.getRootNode();return e!==document&&e.getRootNode({composed:!0})!==document?null:e}function $(){return!0}function f(t,e,s){if(!t||p(t,s)===!1)return!1;const i=v(e);if(typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&i.host===t.target)return!1;const o=(typeof s.value=="object"&&s.value.include||(()=>[]))();return o.push(e),!o.some(n=>n.contains(t.target))}function p(t,e){return(typeof e.value=="object"&&e.value.closeConditional||$)(t)}function D(t,e,s,i){const o=typeof s.value=="function"?s.value:s.value.handler;e._clickOutside.lastMousedownWasOutside&&f(t,e,s)&&setTimeout(()=>{p(t,s)&&o&&o(t)},0)}function d(t,e){const s=v(t);e(document),typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&e(s)}const N={inserted(t,e,s){const i=n=>D(n,t,e),o=n=>{t._clickOutside.lastMousedownWasOutside=f(n,t,e)};d(t,n=>{n.addEventListener("click",i,!0),n.addEventListener("mousedown",o,!0)}),t._clickOutside||(t._clickOutside={lastMousedownWasOutside:!0}),t._clickOutside[s.context._uid]={onClick:i,onMousedown:o}},unbind(t,e,s){!t._clickOutside||(d(t,i=>{var o;if(!i||!(!((o=t._clickOutside)===null||o===void 0)&&o[s.context._uid]))return;const{onClick:n,onMousedown:g}=t._clickOutside[s.context._uid];i.removeEventListener("click",n,!0),i.removeEventListener("mousedown",g,!0)}),delete t._clickOutside[s.context._uid])}},I=N;function O(t,e,s){const i=e.value,o=e.options||{passive:!0};window.addEventListener("resize",i,o),t._onResize=Object(t._onResize),t._onResize[s.context._uid]={callback:i,options:o},(!e.modifiers||!e.modifiers.quiet)&&i()}function _(t,e,s){var i;if(!(!((i=t._onResize)===null||i===void 0)&&i[s.context._uid]))return;const{callback:o,options:n}=t._onResize[s.context._uid];window.removeEventListener("resize",o,n),delete t._onResize[s.context._uid]}const C={inserted:O,unbind:_},M=C,z=l.extend({name:"v-theme-provider",props:{root:Boolean},computed:{isDark(){return this.root?this.rootIsDark:l.options.computed.isDark.call(this)}},render(){return this.$slots.default&&this.$slots.default.find(t=>!t.isComment&&t.text!==" ")}}),w=a.extend().extend({name:"delayable",props:{openDelay:{type:[Number,String],default:0},closeDelay:{type:[Number,String],default:0}},data:()=>({openTimeout:void 0,closeTimeout:void 0}),methods:{clearDelay(){clearTimeout(this.openTimeout),clearTimeout(this.closeTimeout)},runDelay(t,e){this.clearDelay();const s=parseInt(this[`${t}Delay`],10);this[`${t}Timeout`]=setTimeout(e||(()=>{this.isActive={open:!0,close:!1}[t]}),s)}}}),T=c(w,x),V=T.extend({name:"activatable",props:{activator:{default:null,validator:t=>["string","object"].includes(typeof t)},disabled:Boolean,internalActivator:Boolean,openOnClick:{type:Boolean,default:!0},openOnHover:Boolean,openOnFocus:Boolean},data:()=>({activatorElement:null,activatorNode:[],events:["click","mouseenter","mouseleave","focus"],listeners:{}}),watch:{activator:"resetActivator",openOnFocus:"resetActivator",openOnHover:"resetActivator"},mounted(){const t=A(this,"activator",!0);t&&["v-slot","normal"].includes(t)&&y(`The activator slot must be bound, try '<template v-slot:activator="{ on }"><v-btn v-on="on">'`,this),this.addActivatorEvents()},beforeDestroy(){this.removeActivatorEvents()},methods:{addActivatorEvents(){if(!this.activator||this.disabled||!this.getActivator())return;this.listeners=this.genActivatorListeners();const t=Object.keys(this.listeners);for(const e of t)this.getActivator().addEventListener(e,this.listeners[e])},genActivator(){const t=u(this,"activator",Object.assign(this.getValueProxy(),{on:this.genActivatorListeners(),attrs:this.genActivatorAttributes()}))||[];return this.activatorNode=t,t},genActivatorAttributes(){return{role:this.openOnClick&&!this.openOnHover?"button":void 0,"aria-haspopup":!0,"aria-expanded":String(this.isActive)}},genActivatorListeners(){if(this.disabled)return{};const t={};return this.openOnHover?(t.mouseenter=e=>{this.getActivator(e),this.runDelay("open")},t.mouseleave=e=>{this.getActivator(e),this.runDelay("close")}):this.openOnClick&&(t.click=e=>{const s=this.getActivator(e);s&&s.focus(),e.stopPropagation(),this.isActive=!this.isActive}),this.openOnFocus&&(t.focus=e=>{this.getActivator(e),e.stopPropagation(),this.isActive=!this.isActive}),t},getActivator(t){if(this.activatorElement)return this.activatorElement;let e=null;if(this.activator){const s=this.internalActivator?this.$el:document;typeof this.activator=="string"?e=s.querySelector(this.activator):this.activator.$el?e=this.activator.$el:e=this.activator}else if(this.activatorNode.length===1||this.activatorNode.length&&!t){const s=this.activatorNode[0].componentInstance;s&&s.$options.mixins&&s.$options.mixins.some(i=>i.options&&["activatable","menuable"].includes(i.options.name))?e=s.getActivator():e=this.activatorNode[0].elm}else t&&(e=t.currentTarget||t.target);return this.activatorElement=(e==null?void 0:e.nodeType)===Node.ELEMENT_NODE?e:null,this.activatorElement},getContentSlot(){return u(this,"default",this.getValueProxy(),!0)},getValueProxy(){const t=this;return{get value(){return t.isActive},set value(e){t.isActive=e}}},removeActivatorEvents(){if(!this.activator||!this.activatorElement)return;const t=Object.keys(this.listeners);for(const e of t)this.activatorElement.removeEventListener(e,this.listeners[e]);this.listeners={}},resetActivator(){this.removeActivatorEvents(),this.activatorElement=null,this.getActivator(),this.addActivatorEvents()}}});function m(t){const e=[];for(let s=0;s<t.length;s++){const i=t[s];i.isActive&&i.isDependent?e.push(i):e.push(...m(i.$children))}return e}const j=c().extend({name:"dependent",data(){return{closeDependents:!0,isActive:!1,isDependent:!0}},watch:{isActive(t){if(t)return;const e=this.getOpenDependents();for(let s=0;s<e.length;s++)e[s].isActive=!1}},methods:{getOpenDependents(){return this.closeDependents?m(this.$children):[]},getOpenDependentElements(){const t=[],e=this.getOpenDependents();for(let s=0;s<e.length;s++)t.push(...e[s].getClickableDependentElements());return t},getClickableDependentElements(){const t=[this.$el];return this.$refs.content&&t.push(this.$refs.content),this.overlay&&t.push(this.overlay.$el),t.push(...this.getOpenDependentElements()),t}}}),P=a.extend().extend({name:"stackable",data(){return{stackElement:null,stackExclude:null,stackMinZIndex:0,isActive:!1}},computed:{activeZIndex(){if(typeof window>"u")return 0;const t=this.stackElement||this.$refs.content,e=this.isActive?this.getMaxZIndex(this.stackExclude||[t])+2:r(t);return e==null?e:parseInt(e)}},methods:{getMaxZIndex(t=[]){const e=this.$el,s=[this.stackMinZIndex,r(e)],i=[...document.getElementsByClassName("v-menu__content--active"),...document.getElementsByClassName("v-dialog__content--active")];for(let o=0;o<i.length;o++)t.includes(i[o])||s.push(r(i[o]));return Math.max(...s)}}}),S=a.extend().extend({name:"bootable",props:{eager:Boolean},data:()=>({isBooted:!1}),computed:{hasContent(){return this.isBooted||this.eager||this.isActive}},watch:{isActive(){this.isBooted=!0}},created(){"lazy"in this.$attrs&&E("lazy",this)},methods:{showLazyContent(t){return this.hasContent&&t?t():[this.$createElement()]}}});function R(t){const e=typeof t;return e==="boolean"||e==="string"?!0:t.nodeType===Node.ELEMENT_NODE}function h(t){t.forEach(e=>{e.elm&&e.elm.parentNode&&e.elm.parentNode.removeChild(e.elm)})}const Z=c(S).extend({name:"detachable",props:{attach:{default:!1,validator:R},contentClass:{type:String,default:""}},data:()=>({activatorNode:null,hasDetached:!1}),watch:{attach(){this.hasDetached=!1,this.initDetach()},hasContent(){this.$nextTick(this.initDetach)}},beforeMount(){this.$nextTick(()=>{this.activatorNode&&(Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode]).forEach(e=>{if(!e.elm||!this.$el.parentNode)return;const s=this.$el===this.$el.parentNode.firstChild?this.$el:this.$el.nextSibling;this.$el.parentNode.insertBefore(e.elm,s)})})},mounted(){this.hasContent&&this.initDetach()},deactivated(){this.isActive=!1},beforeDestroy(){this.$refs.content&&this.$refs.content.parentNode&&this.$refs.content.parentNode.removeChild(this.$refs.content)},destroyed(){if(this.activatorNode){const t=Array.isArray(this.activatorNode)?this.activatorNode:[this.activatorNode];if(this.$el.isConnected){const e=new MutationObserver(s=>{s.some(i=>Array.from(i.removedNodes).includes(this.$el))&&(e.disconnect(),h(t))});e.observe(this.$el.parentNode,{subtree:!1,childList:!0})}else h(t)}},methods:{getScopeIdAttrs(){const t=b(this.$vnode,"context.$options._scopeId");return t&&{[t]:""}},initDetach(){if(this._isDestroyed||!this.$refs.content||this.hasDetached||this.attach===""||this.attach===!0||this.attach==="attach")return;let t;if(this.attach===!1?t=document.querySelector("[data-app]"):typeof this.attach=="string"?t=document.querySelector(this.attach):t=this.attach,!t){k(`Unable to locate target ${this.attach||"[data-app]"}`,this);return}t.appendChild(this.$refs.content),this.hasDetached=!0}}}),q=a.extend({name:"returnable",props:{returnValue:null},data:()=>({isActive:!1,originalValue:null}),watch:{isActive(t){t?this.originalValue=this.returnValue:this.$emit("update:return-value",this.originalValue)}},methods:{save(t){this.originalValue=t,setTimeout(()=>{this.isActive=!1})}}});export{V as A,S as B,I as C,j as D,M as R,P as S,z as V,Z as a,q as b,w as c,v as d};
